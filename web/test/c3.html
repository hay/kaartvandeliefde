<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <link rel="stylesheet" href="../lib/c3/c3.css">
</head>
<body>
    <div id="chart1"></div>
    <div id="chart2"></div>

    <script src="../lib/d3/d3.js"></script>
    <script src="../lib/c3/c3.js"></script>
    <script src="../lib/stapes/stapes.js"></script>
    <script src="../lib/underscore/underscore.js"></script>
    <script src="../js/datastore.js"></script>
    <script>
        var data = new DataStore('../data/data.json');

        data.load(function() {
            var bar = c3.generate({
                bindto : '#chart1',
                axis : {
                    x : {
                        type : 'category',
                        categories : ['aap', 'noot', 'mies', 'bla', 'doe']
                    },
                    y : {
                        tick : {
                            count : 11,
                            format : function(d) {
                                var p = Math.ceil( d * 100) + '%';

                                // Bit of a hack obviously
                                return p === '99%' ? '100%' : p;
                            }
                        },
                        type : 'category'
                    },
                    rotated : true
                },
                data : {
                    columns : [
                        ['Nederland', 0, 0, 0, 0, 0]
                    ],
                    type : 'bar'
                },
                legend : {
                    show : true
                },
                tooltip : {
                    show : false
                }
            });

            var pie = c3.generate({
                bindto : '#chart2',
                data : {
                    columns : [
                        ["Nederland", 0.4],
                        ["Aapjes", 0.6]
                    ],
                    type : 'pie'
                },
                legend : {
                    show : true
                },
                tooltip : {
                    show : false
                }
            });

            setTimeout(function() {
                bar.load({
                    columns : [
                        ['Nederland', 0.9, 0.2, 0.3, 0.5, 0.3]
                    ]
                });
            }, 1000);
        });
    </script>
</body>
</html>